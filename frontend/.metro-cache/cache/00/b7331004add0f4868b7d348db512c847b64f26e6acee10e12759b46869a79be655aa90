{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useUser\", {\n    enumerable: true,\n    get: function () {\n      return useUser;\n    }\n  });\n  Object.defineProperty(exports, \"UserProvider\", {\n    enumerable: true,\n    get: function () {\n      return UserProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const defaultUserData = {\n    studentName: '',\n    phoneNumber: '',\n    email: '',\n    universityName: '',\n    universityId: '',\n    joinDate: new Date().toISOString().split('T')[0],\n    isLoggedIn: false\n  };\n  const defaultAppSettings = {\n    isDarkMode: false,\n    currentLanguage: 'ar'\n  };\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const useUser = () => {\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  };\n  const UserProvider = ({\n    children\n  }) => {\n    const [userData, setUserDataState] = (0, _react.useState)(defaultUserData);\n    const [appSettings, setAppSettings] = (0, _react.useState)(defaultAppSettings);\n    const [isLoaded, setIsLoaded] = (0, _react.useState)(false);\n\n    // Load saved settings on app start\n    (0, _react.useEffect)(() => {\n      const loadSettings = async () => {\n        try {\n          const savedLanguage = await AsyncStorage.default.getItem('app_language');\n          const savedDarkMode = await AsyncStorage.default.getItem('app_dark_mode');\n          if (savedLanguage || savedDarkMode) {\n            setAppSettings(prev => ({\n              ...prev,\n              currentLanguage: savedLanguage || prev.currentLanguage,\n              isDarkMode: savedDarkMode === 'true' || prev.isDarkMode\n            }));\n            console.log('Loaded settings:', {\n              language: savedLanguage,\n              darkMode: savedDarkMode\n            });\n          }\n        } catch (error) {\n          console.error('Error loading settings:', error);\n        } finally {\n          setIsLoaded(true);\n        }\n      };\n      loadSettings();\n    }, []);\n    const setUserData = data => {\n      setUserDataState(prev => ({\n        ...prev,\n        ...data\n      }));\n    };\n    const login = loginData => {\n      setUserDataState(prev => ({\n        ...prev,\n        ...loginData,\n        isLoggedIn: true\n      }));\n    };\n    const logout = () => {\n      setUserDataState(defaultUserData);\n    };\n    const updateProfile = profileData => {\n      setUserDataState(prev => ({\n        ...prev,\n        ...profileData\n      }));\n    };\n    const toggleDarkMode = async () => {\n      const newDarkMode = !appSettings.isDarkMode;\n      setAppSettings(prev => ({\n        ...prev,\n        isDarkMode: newDarkMode\n      }));\n      try {\n        await AsyncStorage.default.setItem('app_dark_mode', newDarkMode.toString());\n        console.log('Dark mode saved:', newDarkMode);\n      } catch (error) {\n        console.error('Error saving dark mode:', error);\n      }\n    };\n    const changeLanguage = async language => {\n      console.log('UserContext: Changing language to:', language);\n      setAppSettings(prev => ({\n        ...prev,\n        currentLanguage: language\n      }));\n      try {\n        await AsyncStorage.default.setItem('app_language', language);\n        console.log('Language saved:', language);\n      } catch (error) {\n        console.error('Error saving language:', error);\n      }\n    };\n    const value = {\n      userData,\n      appSettings,\n      setUserData,\n      login,\n      logout,\n      updateProfile,\n      toggleDarkMode,\n      changeLanguage\n    };\n\n    // Don't render children until settings are loaded\n    if (!isLoaded) {\n      return null;\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":154,"map":[[13,2,47,0,"Object"],[13,8,47,0],[13,9,47,0,"defineProperty"],[13,23,47,0],[13,24,47,0,"exports"],[13,31,47,0],[14,4,47,0,"enumerable"],[14,14,47,0],[15,4,47,0,"get"],[15,7,47,0],[15,18,47,0,"get"],[15,19,47,0],[16,6,47,0],[16,13,47,0,"useUser"],[16,20,47,0],[17,4,47,0],[18,2,47,0],[19,2,59,0,"Object"],[19,8,59,0],[19,9,59,0,"defineProperty"],[19,23,59,0],[19,24,59,0,"exports"],[19,31,59,0],[20,4,59,0,"enumerable"],[20,14,59,0],[21,4,59,0,"get"],[21,7,59,0],[21,18,59,0,"get"],[21,19,59,0],[22,6,59,0],[22,13,59,0,"UserProvider"],[22,25,59,0],[23,4,59,0],[24,2,59,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,2,69,"_reactJsxDevRuntime"],[28,25,2,69],[28,28,2,69,"require"],[28,35,2,69],[28,36,2,69,"_dependencyMap"],[28,50,2,69],[29,2,30,0],[29,8,30,6,"defaultUserData"],[29,23,30,31],[29,26,30,34],[30,4,31,2,"studentName"],[30,15,31,13],[30,17,31,15],[30,19,31,17],[31,4,32,2,"phoneNumber"],[31,15,32,13],[31,17,32,15],[31,19,32,17],[32,4,33,2,"email"],[32,9,33,7],[32,11,33,9],[32,13,33,11],[33,4,34,2,"universityName"],[33,18,34,16],[33,20,34,18],[33,22,34,20],[34,4,35,2,"universityId"],[34,16,35,14],[34,18,35,16],[34,20,35,18],[35,4,36,2,"joinDate"],[35,12,36,10],[35,14,36,12],[35,18,36,16,"Date"],[35,22,36,20],[35,23,36,21],[35,24,36,22],[35,25,36,23,"toISOString"],[35,36,36,34],[35,37,36,35],[35,38,36,36],[35,39,36,37,"split"],[35,44,36,42],[35,45,36,43],[35,48,36,46],[35,49,36,47],[35,50,36,48],[35,51,36,49],[35,52,36,50],[36,4,37,2,"isLoggedIn"],[36,14,37,12],[36,16,37,14],[37,2,38,0],[37,3,38,1],[38,2,40,0],[38,8,40,6,"defaultAppSettings"],[38,26,40,37],[38,29,40,40],[39,4,41,2,"isDarkMode"],[39,14,41,12],[39,16,41,14],[39,21,41,19],[40,4,42,2,"currentLanguage"],[40,19,42,17],[40,21,42,19],[41,2,43,0],[41,3,43,1],[42,2,45,0],[42,8,45,6,"UserContext"],[42,19,45,17],[42,35,45,20],[42,39,45,20,"createContext"],[42,45,45,33],[42,46,45,33,"createContext"],[42,59,45,33],[42,61,45,63,"undefined"],[42,70,45,72],[42,71,45,73],[43,2,47,7],[43,8,47,13,"useUser"],[43,15,47,20],[43,18,47,23,"useUser"],[43,19,47,23],[43,24,47,29],[44,4,48,2],[44,10,48,8,"context"],[44,17,48,15],[44,20,48,18],[44,24,48,18,"useContext"],[44,30,48,28],[44,31,48,28,"useContext"],[44,41,48,28],[44,43,48,29,"UserContext"],[44,54,48,40],[44,55,48,41],[45,4,49,2],[45,8,49,6,"context"],[45,15,49,13],[45,20,49,18,"undefined"],[45,29,49,27],[45,31,49,29],[46,6,50,4],[46,12,50,10],[46,16,50,14,"Error"],[46,21,50,19],[46,22,50,20],[46,66,50,64],[46,67,50,65],[47,4,51,2],[48,4,52,2],[48,11,52,9,"context"],[48,18,52,16],[49,2,53,0],[49,3,53,1],[50,2,59,7],[50,8,59,13,"UserProvider"],[50,20,59,54],[50,23,59,57,"UserProvider"],[50,24,59,58],[51,4,59,60,"children"],[52,2,59,69],[52,3,59,70],[52,8,59,75],[53,4,60,2],[53,10,60,8],[53,11,60,9,"userData"],[53,19,60,17],[53,21,60,19,"setUserDataState"],[53,37,60,35],[53,38,60,36],[53,41,60,39],[53,45,60,39,"useState"],[53,51,60,47],[53,52,60,47,"useState"],[53,60,60,47],[53,62,60,58,"defaultUserData"],[53,77,60,73],[53,78,60,74],[54,4,61,2],[54,10,61,8],[54,11,61,9,"appSettings"],[54,22,61,20],[54,24,61,22,"setAppSettings"],[54,38,61,36],[54,39,61,37],[54,42,61,40],[54,46,61,40,"useState"],[54,52,61,48],[54,53,61,48,"useState"],[54,61,61,48],[54,63,61,62,"defaultAppSettings"],[54,81,61,80],[54,82,61,81],[55,4,62,2],[55,10,62,8],[55,11,62,9,"isLoaded"],[55,19,62,17],[55,21,62,19,"setIsLoaded"],[55,32,62,30],[55,33,62,31],[55,36,62,34],[55,40,62,34,"useState"],[55,46,62,42],[55,47,62,42,"useState"],[55,55,62,42],[55,57,62,43],[55,62,62,48],[55,63,62,49],[57,4,64,2],[58,4,65,2],[58,8,65,2,"useEffect"],[58,14,65,11],[58,15,65,11,"useEffect"],[58,24,65,11],[58,26,65,12],[58,32,65,18],[59,6,66,4],[59,12,66,10,"loadSettings"],[59,24,66,22],[59,27,66,25],[59,33,66,25,"loadSettings"],[59,34,66,25],[59,39,66,37],[60,8,67,6],[60,12,67,10],[61,10,68,8],[61,16,68,14,"savedLanguage"],[61,29,68,27],[61,32,68,30],[61,38,68,36,"AsyncStorage"],[61,50,68,48],[61,51,68,48,"default"],[61,58,68,48],[61,59,68,49,"getItem"],[61,66,68,56],[61,67,68,57],[61,81,68,71],[61,82,68,72],[62,10,69,8],[62,16,69,14,"savedDarkMode"],[62,29,69,27],[62,32,69,30],[62,38,69,36,"AsyncStorage"],[62,50,69,48],[62,51,69,48,"default"],[62,58,69,48],[62,59,69,49,"getItem"],[62,66,69,56],[62,67,69,57],[62,82,69,72],[62,83,69,73],[63,10,71,8],[63,14,71,12,"savedLanguage"],[63,27,71,25],[63,31,71,29,"savedDarkMode"],[63,44,71,42],[63,46,71,44],[64,12,72,10,"setAppSettings"],[64,26,72,24],[64,27,72,25,"prev"],[64,31,72,29],[64,36,72,34],[65,14,73,12],[65,17,73,15,"prev"],[65,21,73,19],[66,14,74,12,"currentLanguage"],[66,29,74,27],[66,31,74,30,"savedLanguage"],[66,44,74,43],[66,48,74,70,"prev"],[66,52,74,74],[66,53,74,75,"currentLanguage"],[66,68,74,90],[67,14,75,12,"isDarkMode"],[67,24,75,22],[67,26,75,24,"savedDarkMode"],[67,39,75,37],[67,44,75,42],[67,50,75,48],[67,54,75,52,"prev"],[67,58,75,56],[67,59,75,57,"isDarkMode"],[68,12,76,10],[68,13,76,11],[68,14,76,12],[68,15,76,13],[69,12,77,10,"console"],[69,19,77,17],[69,20,77,18,"log"],[69,23,77,21],[69,24,77,22],[69,42,77,40],[69,44,77,42],[70,14,77,44,"language"],[70,22,77,52],[70,24,77,54,"savedLanguage"],[70,37,77,67],[71,14,77,69,"darkMode"],[71,22,77,77],[71,24,77,79,"savedDarkMode"],[72,12,77,93],[72,13,77,94],[72,14,77,95],[73,10,78,8],[74,8,79,6],[74,9,79,7],[74,10,79,8],[74,17,79,15,"error"],[74,22,79,20],[74,24,79,22],[75,10,80,8,"console"],[75,17,80,15],[75,18,80,16,"error"],[75,23,80,21],[75,24,80,22],[75,49,80,47],[75,51,80,49,"error"],[75,56,80,54],[75,57,80,55],[76,8,81,6],[76,9,81,7],[76,18,81,16],[77,10,82,8,"setIsLoaded"],[77,21,82,19],[77,22,82,20],[77,26,82,24],[77,27,82,25],[78,8,83,6],[79,6,84,4],[79,7,84,5],[80,6,86,4,"loadSettings"],[80,18,86,16],[80,19,86,17],[80,20,86,18],[81,4,87,2],[81,5,87,3],[81,7,87,5],[81,9,87,7],[81,10,87,8],[82,4,89,2],[82,10,89,8,"setUserData"],[82,21,89,19],[82,24,89,23,"data"],[82,28,89,46],[82,32,89,51],[83,6,90,4,"setUserDataState"],[83,22,90,20],[83,23,90,21,"prev"],[83,27,90,25],[83,32,90,30],[84,8,90,32],[84,11,90,35,"prev"],[84,15,90,39],[85,8,90,41],[85,11,90,44,"data"],[86,6,90,49],[86,7,90,50],[86,8,90,51],[86,9,90,52],[87,4,91,2],[87,5,91,3],[88,4,93,2],[88,10,93,8,"login"],[88,15,93,13],[88,18,93,17,"loginData"],[88,27,93,45],[88,31,93,50],[89,6,94,4,"setUserDataState"],[89,22,94,20],[89,23,94,21,"prev"],[89,27,94,25],[89,32,94,30],[90,8,95,6],[90,11,95,9,"prev"],[90,15,95,13],[91,8,96,6],[91,11,96,9,"loginData"],[91,20,96,18],[92,8,97,6,"isLoggedIn"],[92,18,97,16],[92,20,97,18],[93,6,98,4],[93,7,98,5],[93,8,98,6],[93,9,98,7],[94,4,99,2],[94,5,99,3],[95,4,101,2],[95,10,101,8,"logout"],[95,16,101,14],[95,19,101,17,"logout"],[95,20,101,17],[95,25,101,23],[96,6,102,4,"setUserDataState"],[96,22,102,20],[96,23,102,21,"defaultUserData"],[96,38,102,36],[96,39,102,37],[97,4,103,2],[97,5,103,3],[98,4,105,2],[98,10,105,8,"updateProfile"],[98,23,105,21],[98,26,105,25,"profileData"],[98,37,105,55],[98,41,105,60],[99,6,106,4,"setUserDataState"],[99,22,106,20],[99,23,106,21,"prev"],[99,27,106,25],[99,32,106,30],[100,8,106,32],[100,11,106,35,"prev"],[100,15,106,39],[101,8,106,41],[101,11,106,44,"profileData"],[102,6,106,56],[102,7,106,57],[102,8,106,58],[102,9,106,59],[103,4,107,2],[103,5,107,3],[104,4,109,2],[104,10,109,8,"toggleDarkMode"],[104,24,109,22],[104,27,109,25],[104,33,109,25,"toggleDarkMode"],[104,34,109,25],[104,39,109,37],[105,6,110,4],[105,12,110,10,"newDarkMode"],[105,23,110,21],[105,26,110,24],[105,27,110,25,"appSettings"],[105,38,110,36],[105,39,110,37,"isDarkMode"],[105,49,110,47],[106,6,111,4,"setAppSettings"],[106,20,111,18],[106,21,111,19,"prev"],[106,25,111,23],[106,30,111,28],[107,8,111,30],[107,11,111,33,"prev"],[107,15,111,37],[108,8,111,39,"isDarkMode"],[108,18,111,49],[108,20,111,51,"newDarkMode"],[109,6,111,63],[109,7,111,64],[109,8,111,65],[109,9,111,66],[110,6,112,4],[110,10,112,8],[111,8,113,6],[111,14,113,12,"AsyncStorage"],[111,26,113,24],[111,27,113,24,"default"],[111,34,113,24],[111,35,113,25,"setItem"],[111,42,113,32],[111,43,113,33],[111,58,113,48],[111,60,113,50,"newDarkMode"],[111,71,113,61],[111,72,113,62,"toString"],[111,80,113,70],[111,81,113,71],[111,82,113,72],[111,83,113,73],[112,8,114,6,"console"],[112,15,114,13],[112,16,114,14,"log"],[112,19,114,17],[112,20,114,18],[112,38,114,36],[112,40,114,38,"newDarkMode"],[112,51,114,49],[112,52,114,50],[113,6,115,4],[113,7,115,5],[113,8,115,6],[113,15,115,13,"error"],[113,20,115,18],[113,22,115,20],[114,8,116,6,"console"],[114,15,116,13],[114,16,116,14,"error"],[114,21,116,19],[114,22,116,20],[114,47,116,45],[114,49,116,47,"error"],[114,54,116,52],[114,55,116,53],[115,6,117,4],[116,4,118,2],[116,5,118,3],[117,4,120,2],[117,10,120,8,"changeLanguage"],[117,24,120,22],[117,27,120,25],[117,33,120,32,"language"],[117,41,120,60],[117,45,120,65],[118,6,121,4,"console"],[118,13,121,11],[118,14,121,12,"log"],[118,17,121,15],[118,18,121,16],[118,54,121,52],[118,56,121,54,"language"],[118,64,121,62],[118,65,121,63],[119,6,122,4,"setAppSettings"],[119,20,122,18],[119,21,122,19,"prev"],[119,25,122,23],[119,30,122,28],[120,8,122,30],[120,11,122,33,"prev"],[120,15,122,37],[121,8,122,39,"currentLanguage"],[121,23,122,54],[121,25,122,56,"language"],[122,6,122,65],[122,7,122,66],[122,8,122,67],[122,9,122,68],[123,6,123,4],[123,10,123,8],[124,8,124,6],[124,14,124,12,"AsyncStorage"],[124,26,124,24],[124,27,124,24,"default"],[124,34,124,24],[124,35,124,25,"setItem"],[124,42,124,32],[124,43,124,33],[124,57,124,47],[124,59,124,49,"language"],[124,67,124,57],[124,68,124,58],[125,8,125,6,"console"],[125,15,125,13],[125,16,125,14,"log"],[125,19,125,17],[125,20,125,18],[125,37,125,35],[125,39,125,37,"language"],[125,47,125,45],[125,48,125,46],[126,6,126,4],[126,7,126,5],[126,8,126,6],[126,15,126,13,"error"],[126,20,126,18],[126,22,126,20],[127,8,127,6,"console"],[127,15,127,13],[127,16,127,14,"error"],[127,21,127,19],[127,22,127,20],[127,46,127,44],[127,48,127,46,"error"],[127,53,127,51],[127,54,127,52],[128,6,128,4],[129,4,129,2],[129,5,129,3],[130,4,131,2],[130,10,131,8,"value"],[130,15,131,30],[130,18,131,33],[131,6,132,4,"userData"],[131,14,132,12],[132,6,133,4,"appSettings"],[132,17,133,15],[133,6,134,4,"setUserData"],[133,17,134,15],[134,6,135,4,"login"],[134,11,135,9],[135,6,136,4,"logout"],[135,12,136,10],[136,6,137,4,"updateProfile"],[136,19,137,17],[137,6,138,4,"toggleDarkMode"],[137,20,138,18],[138,6,139,4,"changeLanguage"],[139,4,140,2],[139,5,140,3],[141,4,142,2],[142,4,143,2],[142,8,143,6],[142,9,143,7,"isLoaded"],[142,17,143,15],[142,19,143,17],[143,6,144,4],[143,13,144,11],[143,17,144,15],[144,4,145,2],[145,4,147,2],[145,24,148,4],[145,28,148,4,"_reactJsxDevRuntime"],[145,47,148,4],[145,48,148,4,"jsxDEV"],[145,54,148,4],[145,56,148,5,"UserContext"],[145,67,148,16],[145,68,148,17,"Provider"],[145,76,148,25],[146,6,148,26,"value"],[146,11,148,31],[146,13,148,33,"value"],[146,18,148,39],[147,6,148,39,"children"],[147,14,148,39],[147,16,149,7,"children"],[148,4,149,15],[149,6,149,15,"fileName"],[149,14,149,15],[149,16,149,15,"_jsxFileName"],[149,28,149,15],[150,6,149,15,"lineNumber"],[150,16,149,15],[151,6,149,15,"columnNumber"],[151,18,149,15],[152,4,149,15],[152,11,150,26],[152,12,150,27],[153,2,152,0],[153,3,152,1],[154,0,152,2],[154,3]],"functionMap":{"names":["<global>","useUser","UserProvider","useEffect$argument_0","loadSettings","setAppSettings$argument_0","setUserData","setUserDataState$argument_0","login","logout","updateProfile","toggleDarkMode","changeLanguage"],"mappings":"AAA;uBC8C;CDM;yDEM;YCM;yBCC;yBCM;YDI;KDQ;GDG;sBIE;qBCC,8BD;GJC;gBME;qBDC;MCI;GNC;iBOE;GPE;wBQE;qBHC,qCG;GRC;yBSE;mBNE,8CM;GTO;yBUE;mBPE,gDO;GVO;CFuB"},"hasCjsExports":false},"type":"js/module"}]}