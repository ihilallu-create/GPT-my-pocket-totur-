{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useUser\", {\n    enumerable: true,\n    get: function () {\n      return useUser;\n    }\n  });\n  Object.defineProperty(exports, \"UserProvider\", {\n    enumerable: true,\n    get: function () {\n      return UserProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const defaultUserData = {\n    studentName: '',\n    phoneNumber: '',\n    email: '',\n    universityName: '',\n    universityId: '',\n    joinDate: new Date().toISOString().split('T')[0],\n    isLoggedIn: false,\n    userType: 'student',\n    // Teacher fields\n    name: '',\n    years_experience: 0,\n    gpa: 0\n  };\n  const defaultAppSettings = {\n    isDarkMode: true,\n    // تغيير النمط الافتراضي إلى المظلم\n    currentLanguage: 'ar'\n  };\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const useUser = () => {\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  };\n  const UserProvider = ({\n    children\n  }) => {\n    const [userData, setUserDataState] = (0, _react.useState)(defaultUserData);\n    const [appSettings, setAppSettings] = (0, _react.useState)(defaultAppSettings);\n    const [isLoaded, setIsLoaded] = (0, _react.useState)(false);\n\n    // Load saved settings on app start\n    (0, _react.useEffect)(() => {\n      const loadSettings = async () => {\n        try {\n          const savedLanguage = await AsyncStorage.default.getItem('app_language');\n          const savedDarkMode = await AsyncStorage.default.getItem('app_dark_mode');\n          if (savedLanguage || savedDarkMode) {\n            setAppSettings(prev => ({\n              ...prev,\n              currentLanguage: savedLanguage || prev.currentLanguage,\n              isDarkMode: savedDarkMode === 'true' || prev.isDarkMode\n            }));\n            console.log('Loaded settings:', {\n              language: savedLanguage,\n              darkMode: savedDarkMode\n            });\n          }\n        } catch (error) {\n          console.error('Error loading settings:', error);\n        } finally {\n          setIsLoaded(true);\n        }\n      };\n      loadSettings();\n    }, []);\n    const setUserData = data => {\n      setUserDataState(prev => ({\n        ...prev,\n        ...data\n      }));\n    };\n    const login = loginData => {\n      setUserDataState(prev => ({\n        ...prev,\n        ...loginData,\n        isLoggedIn: true\n      }));\n    };\n    const logout = () => {\n      setUserDataState(defaultUserData);\n    };\n    const updateProfile = profileData => {\n      setUserDataState(prev => ({\n        ...prev,\n        ...profileData\n      }));\n    };\n    const toggleDarkMode = async () => {\n      const newDarkMode = !appSettings.isDarkMode;\n      setAppSettings(prev => ({\n        ...prev,\n        isDarkMode: newDarkMode\n      }));\n      try {\n        await AsyncStorage.default.setItem('app_dark_mode', newDarkMode.toString());\n        console.log('Dark mode saved:', newDarkMode);\n      } catch (error) {\n        console.error('Error saving dark mode:', error);\n      }\n    };\n    const changeLanguage = async language => {\n      console.log('UserContext: Changing language to:', language);\n      setAppSettings(prev => ({\n        ...prev,\n        currentLanguage: language\n      }));\n      try {\n        await AsyncStorage.default.setItem('app_language', language);\n        console.log('Language saved:', language);\n      } catch (error) {\n        console.error('Error saving language:', error);\n      }\n    };\n    const value = {\n      userData,\n      appSettings,\n      setUserData,\n      login,\n      logout,\n      updateProfile,\n      toggleDarkMode,\n      changeLanguage\n    };\n\n    // Don't render children until settings are loaded\n    if (!isLoaded) {\n      return null;\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":160,"map":[[13,2,57,0,"Object"],[13,8,57,0],[13,9,57,0,"defineProperty"],[13,23,57,0],[13,24,57,0,"exports"],[13,31,57,0],[14,4,57,0,"enumerable"],[14,14,57,0],[15,4,57,0,"get"],[15,7,57,0],[15,18,57,0,"get"],[15,19,57,0],[16,6,57,0],[16,13,57,0,"useUser"],[16,20,57,0],[17,4,57,0],[18,2,57,0],[19,2,69,0,"Object"],[19,8,69,0],[19,9,69,0,"defineProperty"],[19,23,69,0],[19,24,69,0,"exports"],[19,31,69,0],[20,4,69,0,"enumerable"],[20,14,69,0],[21,4,69,0,"get"],[21,7,69,0],[21,18,69,0,"get"],[21,19,69,0],[22,6,69,0],[22,13,69,0,"UserProvider"],[22,25,69,0],[23,4,69,0],[24,2,69,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,2,69,"_reactJsxDevRuntime"],[28,25,2,69],[28,28,2,69,"require"],[28,35,2,69],[28,36,2,69,"_dependencyMap"],[28,50,2,69],[29,2,35,0],[29,8,35,6,"defaultUserData"],[29,23,35,31],[29,26,35,34],[30,4,36,2,"studentName"],[30,15,36,13],[30,17,36,15],[30,19,36,17],[31,4,37,2,"phoneNumber"],[31,15,37,13],[31,17,37,15],[31,19,37,17],[32,4,38,2,"email"],[32,9,38,7],[32,11,38,9],[32,13,38,11],[33,4,39,2,"universityName"],[33,18,39,16],[33,20,39,18],[33,22,39,20],[34,4,40,2,"universityId"],[34,16,40,14],[34,18,40,16],[34,20,40,18],[35,4,41,2,"joinDate"],[35,12,41,10],[35,14,41,12],[35,18,41,16,"Date"],[35,22,41,20],[35,23,41,21],[35,24,41,22],[35,25,41,23,"toISOString"],[35,36,41,34],[35,37,41,35],[35,38,41,36],[35,39,41,37,"split"],[35,44,41,42],[35,45,41,43],[35,48,41,46],[35,49,41,47],[35,50,41,48],[35,51,41,49],[35,52,41,50],[36,4,42,2,"isLoggedIn"],[36,14,42,12],[36,16,42,14],[36,21,42,19],[37,4,43,2,"userType"],[37,12,43,10],[37,14,43,12],[37,23,43,21],[38,4,44,2],[39,4,45,2,"name"],[39,8,45,6],[39,10,45,8],[39,12,45,10],[40,4,46,2,"years_experience"],[40,20,46,18],[40,22,46,20],[40,23,46,21],[41,4,47,2,"gpa"],[41,7,47,5],[41,9,47,7],[42,2,48,0],[42,3,48,1],[43,2,50,0],[43,8,50,6,"defaultAppSettings"],[43,26,50,37],[43,29,50,40],[44,4,51,2,"isDarkMode"],[44,14,51,12],[44,16,51,14],[44,20,51,18],[45,4,51,20],[46,4,52,2,"currentLanguage"],[46,19,52,17],[46,21,52,19],[47,2,53,0],[47,3,53,1],[48,2,55,0],[48,8,55,6,"UserContext"],[48,19,55,17],[48,35,55,20],[48,39,55,20,"createContext"],[48,45,55,33],[48,46,55,33,"createContext"],[48,59,55,33],[48,61,55,63,"undefined"],[48,70,55,72],[48,71,55,73],[49,2,57,7],[49,8,57,13,"useUser"],[49,15,57,20],[49,18,57,23,"useUser"],[49,19,57,23],[49,24,57,29],[50,4,58,2],[50,10,58,8,"context"],[50,17,58,15],[50,20,58,18],[50,24,58,18,"useContext"],[50,30,58,28],[50,31,58,28,"useContext"],[50,41,58,28],[50,43,58,29,"UserContext"],[50,54,58,40],[50,55,58,41],[51,4,59,2],[51,8,59,6,"context"],[51,15,59,13],[51,20,59,18,"undefined"],[51,29,59,27],[51,31,59,29],[52,6,60,4],[52,12,60,10],[52,16,60,14,"Error"],[52,21,60,19],[52,22,60,20],[52,66,60,64],[52,67,60,65],[53,4,61,2],[54,4,62,2],[54,11,62,9,"context"],[54,18,62,16],[55,2,63,0],[55,3,63,1],[56,2,69,7],[56,8,69,13,"UserProvider"],[56,20,69,54],[56,23,69,57,"UserProvider"],[56,24,69,58],[57,4,69,60,"children"],[58,2,69,69],[58,3,69,70],[58,8,69,75],[59,4,70,2],[59,10,70,8],[59,11,70,9,"userData"],[59,19,70,17],[59,21,70,19,"setUserDataState"],[59,37,70,35],[59,38,70,36],[59,41,70,39],[59,45,70,39,"useState"],[59,51,70,47],[59,52,70,47,"useState"],[59,60,70,47],[59,62,70,58,"defaultUserData"],[59,77,70,73],[59,78,70,74],[60,4,71,2],[60,10,71,8],[60,11,71,9,"appSettings"],[60,22,71,20],[60,24,71,22,"setAppSettings"],[60,38,71,36],[60,39,71,37],[60,42,71,40],[60,46,71,40,"useState"],[60,52,71,48],[60,53,71,48,"useState"],[60,61,71,48],[60,63,71,62,"defaultAppSettings"],[60,81,71,80],[60,82,71,81],[61,4,72,2],[61,10,72,8],[61,11,72,9,"isLoaded"],[61,19,72,17],[61,21,72,19,"setIsLoaded"],[61,32,72,30],[61,33,72,31],[61,36,72,34],[61,40,72,34,"useState"],[61,46,72,42],[61,47,72,42,"useState"],[61,55,72,42],[61,57,72,43],[61,62,72,48],[61,63,72,49],[63,4,74,2],[64,4,75,2],[64,8,75,2,"useEffect"],[64,14,75,11],[64,15,75,11,"useEffect"],[64,24,75,11],[64,26,75,12],[64,32,75,18],[65,6,76,4],[65,12,76,10,"loadSettings"],[65,24,76,22],[65,27,76,25],[65,33,76,25,"loadSettings"],[65,34,76,25],[65,39,76,37],[66,8,77,6],[66,12,77,10],[67,10,78,8],[67,16,78,14,"savedLanguage"],[67,29,78,27],[67,32,78,30],[67,38,78,36,"AsyncStorage"],[67,50,78,48],[67,51,78,48,"default"],[67,58,78,48],[67,59,78,49,"getItem"],[67,66,78,56],[67,67,78,57],[67,81,78,71],[67,82,78,72],[68,10,79,8],[68,16,79,14,"savedDarkMode"],[68,29,79,27],[68,32,79,30],[68,38,79,36,"AsyncStorage"],[68,50,79,48],[68,51,79,48,"default"],[68,58,79,48],[68,59,79,49,"getItem"],[68,66,79,56],[68,67,79,57],[68,82,79,72],[68,83,79,73],[69,10,81,8],[69,14,81,12,"savedLanguage"],[69,27,81,25],[69,31,81,29,"savedDarkMode"],[69,44,81,42],[69,46,81,44],[70,12,82,10,"setAppSettings"],[70,26,82,24],[70,27,82,25,"prev"],[70,31,82,29],[70,36,82,34],[71,14,83,12],[71,17,83,15,"prev"],[71,21,83,19],[72,14,84,12,"currentLanguage"],[72,29,84,27],[72,31,84,30,"savedLanguage"],[72,44,84,43],[72,48,84,70,"prev"],[72,52,84,74],[72,53,84,75,"currentLanguage"],[72,68,84,90],[73,14,85,12,"isDarkMode"],[73,24,85,22],[73,26,85,24,"savedDarkMode"],[73,39,85,37],[73,44,85,42],[73,50,85,48],[73,54,85,52,"prev"],[73,58,85,56],[73,59,85,57,"isDarkMode"],[74,12,86,10],[74,13,86,11],[74,14,86,12],[74,15,86,13],[75,12,87,10,"console"],[75,19,87,17],[75,20,87,18,"log"],[75,23,87,21],[75,24,87,22],[75,42,87,40],[75,44,87,42],[76,14,87,44,"language"],[76,22,87,52],[76,24,87,54,"savedLanguage"],[76,37,87,67],[77,14,87,69,"darkMode"],[77,22,87,77],[77,24,87,79,"savedDarkMode"],[78,12,87,93],[78,13,87,94],[78,14,87,95],[79,10,88,8],[80,8,89,6],[80,9,89,7],[80,10,89,8],[80,17,89,15,"error"],[80,22,89,20],[80,24,89,22],[81,10,90,8,"console"],[81,17,90,15],[81,18,90,16,"error"],[81,23,90,21],[81,24,90,22],[81,49,90,47],[81,51,90,49,"error"],[81,56,90,54],[81,57,90,55],[82,8,91,6],[82,9,91,7],[82,18,91,16],[83,10,92,8,"setIsLoaded"],[83,21,92,19],[83,22,92,20],[83,26,92,24],[83,27,92,25],[84,8,93,6],[85,6,94,4],[85,7,94,5],[86,6,96,4,"loadSettings"],[86,18,96,16],[86,19,96,17],[86,20,96,18],[87,4,97,2],[87,5,97,3],[87,7,97,5],[87,9,97,7],[87,10,97,8],[88,4,99,2],[88,10,99,8,"setUserData"],[88,21,99,19],[88,24,99,23,"data"],[88,28,99,46],[88,32,99,51],[89,6,100,4,"setUserDataState"],[89,22,100,20],[89,23,100,21,"prev"],[89,27,100,25],[89,32,100,30],[90,8,100,32],[90,11,100,35,"prev"],[90,15,100,39],[91,8,100,41],[91,11,100,44,"data"],[92,6,100,49],[92,7,100,50],[92,8,100,51],[92,9,100,52],[93,4,101,2],[93,5,101,3],[94,4,103,2],[94,10,103,8,"login"],[94,15,103,13],[94,18,103,17,"loginData"],[94,27,103,45],[94,31,103,50],[95,6,104,4,"setUserDataState"],[95,22,104,20],[95,23,104,21,"prev"],[95,27,104,25],[95,32,104,30],[96,8,105,6],[96,11,105,9,"prev"],[96,15,105,13],[97,8,106,6],[97,11,106,9,"loginData"],[97,20,106,18],[98,8,107,6,"isLoggedIn"],[98,18,107,16],[98,20,107,18],[99,6,108,4],[99,7,108,5],[99,8,108,6],[99,9,108,7],[100,4,109,2],[100,5,109,3],[101,4,111,2],[101,10,111,8,"logout"],[101,16,111,14],[101,19,111,17,"logout"],[101,20,111,17],[101,25,111,23],[102,6,112,4,"setUserDataState"],[102,22,112,20],[102,23,112,21,"defaultUserData"],[102,38,112,36],[102,39,112,37],[103,4,113,2],[103,5,113,3],[104,4,115,2],[104,10,115,8,"updateProfile"],[104,23,115,21],[104,26,115,25,"profileData"],[104,37,115,55],[104,41,115,60],[105,6,116,4,"setUserDataState"],[105,22,116,20],[105,23,116,21,"prev"],[105,27,116,25],[105,32,116,30],[106,8,116,32],[106,11,116,35,"prev"],[106,15,116,39],[107,8,116,41],[107,11,116,44,"profileData"],[108,6,116,56],[108,7,116,57],[108,8,116,58],[108,9,116,59],[109,4,117,2],[109,5,117,3],[110,4,119,2],[110,10,119,8,"toggleDarkMode"],[110,24,119,22],[110,27,119,25],[110,33,119,25,"toggleDarkMode"],[110,34,119,25],[110,39,119,37],[111,6,120,4],[111,12,120,10,"newDarkMode"],[111,23,120,21],[111,26,120,24],[111,27,120,25,"appSettings"],[111,38,120,36],[111,39,120,37,"isDarkMode"],[111,49,120,47],[112,6,121,4,"setAppSettings"],[112,20,121,18],[112,21,121,19,"prev"],[112,25,121,23],[112,30,121,28],[113,8,121,30],[113,11,121,33,"prev"],[113,15,121,37],[114,8,121,39,"isDarkMode"],[114,18,121,49],[114,20,121,51,"newDarkMode"],[115,6,121,63],[115,7,121,64],[115,8,121,65],[115,9,121,66],[116,6,122,4],[116,10,122,8],[117,8,123,6],[117,14,123,12,"AsyncStorage"],[117,26,123,24],[117,27,123,24,"default"],[117,34,123,24],[117,35,123,25,"setItem"],[117,42,123,32],[117,43,123,33],[117,58,123,48],[117,60,123,50,"newDarkMode"],[117,71,123,61],[117,72,123,62,"toString"],[117,80,123,70],[117,81,123,71],[117,82,123,72],[117,83,123,73],[118,8,124,6,"console"],[118,15,124,13],[118,16,124,14,"log"],[118,19,124,17],[118,20,124,18],[118,38,124,36],[118,40,124,38,"newDarkMode"],[118,51,124,49],[118,52,124,50],[119,6,125,4],[119,7,125,5],[119,8,125,6],[119,15,125,13,"error"],[119,20,125,18],[119,22,125,20],[120,8,126,6,"console"],[120,15,126,13],[120,16,126,14,"error"],[120,21,126,19],[120,22,126,20],[120,47,126,45],[120,49,126,47,"error"],[120,54,126,52],[120,55,126,53],[121,6,127,4],[122,4,128,2],[122,5,128,3],[123,4,130,2],[123,10,130,8,"changeLanguage"],[123,24,130,22],[123,27,130,25],[123,33,130,32,"language"],[123,41,130,60],[123,45,130,65],[124,6,131,4,"console"],[124,13,131,11],[124,14,131,12,"log"],[124,17,131,15],[124,18,131,16],[124,54,131,52],[124,56,131,54,"language"],[124,64,131,62],[124,65,131,63],[125,6,132,4,"setAppSettings"],[125,20,132,18],[125,21,132,19,"prev"],[125,25,132,23],[125,30,132,28],[126,8,132,30],[126,11,132,33,"prev"],[126,15,132,37],[127,8,132,39,"currentLanguage"],[127,23,132,54],[127,25,132,56,"language"],[128,6,132,65],[128,7,132,66],[128,8,132,67],[128,9,132,68],[129,6,133,4],[129,10,133,8],[130,8,134,6],[130,14,134,12,"AsyncStorage"],[130,26,134,24],[130,27,134,24,"default"],[130,34,134,24],[130,35,134,25,"setItem"],[130,42,134,32],[130,43,134,33],[130,57,134,47],[130,59,134,49,"language"],[130,67,134,57],[130,68,134,58],[131,8,135,6,"console"],[131,15,135,13],[131,16,135,14,"log"],[131,19,135,17],[131,20,135,18],[131,37,135,35],[131,39,135,37,"language"],[131,47,135,45],[131,48,135,46],[132,6,136,4],[132,7,136,5],[132,8,136,6],[132,15,136,13,"error"],[132,20,136,18],[132,22,136,20],[133,8,137,6,"console"],[133,15,137,13],[133,16,137,14,"error"],[133,21,137,19],[133,22,137,20],[133,46,137,44],[133,48,137,46,"error"],[133,53,137,51],[133,54,137,52],[134,6,138,4],[135,4,139,2],[135,5,139,3],[136,4,141,2],[136,10,141,8,"value"],[136,15,141,30],[136,18,141,33],[137,6,142,4,"userData"],[137,14,142,12],[138,6,143,4,"appSettings"],[138,17,143,15],[139,6,144,4,"setUserData"],[139,17,144,15],[140,6,145,4,"login"],[140,11,145,9],[141,6,146,4,"logout"],[141,12,146,10],[142,6,147,4,"updateProfile"],[142,19,147,17],[143,6,148,4,"toggleDarkMode"],[143,20,148,18],[144,6,149,4,"changeLanguage"],[145,4,150,2],[145,5,150,3],[147,4,152,2],[148,4,153,2],[148,8,153,6],[148,9,153,7,"isLoaded"],[148,17,153,15],[148,19,153,17],[149,6,154,4],[149,13,154,11],[149,17,154,15],[150,4,155,2],[151,4,157,2],[151,24,158,4],[151,28,158,4,"_reactJsxDevRuntime"],[151,47,158,4],[151,48,158,4,"jsxDEV"],[151,54,158,4],[151,56,158,5,"UserContext"],[151,67,158,16],[151,68,158,17,"Provider"],[151,76,158,25],[152,6,158,26,"value"],[152,11,158,31],[152,13,158,33,"value"],[152,18,158,39],[153,6,158,39,"children"],[153,14,158,39],[153,16,159,7,"children"],[154,4,159,15],[155,6,159,15,"fileName"],[155,14,159,15],[155,16,159,15,"_jsxFileName"],[155,28,159,15],[156,6,159,15,"lineNumber"],[156,16,159,15],[157,6,159,15,"columnNumber"],[157,18,159,15],[158,4,159,15],[158,11,160,26],[158,12,160,27],[159,2,162,0],[159,3,162,1],[160,0,162,2],[160,3]],"functionMap":{"names":["<global>","useUser","UserProvider","useEffect$argument_0","loadSettings","setAppSettings$argument_0","setUserData","setUserDataState$argument_0","login","logout","updateProfile","toggleDarkMode","changeLanguage"],"mappings":"AAA;uBCwD;CDM;yDEM;YCM;yBCC;yBCM;YDI;KDQ;GDG;sBIE;qBCC,8BD;GJC;gBME;qBDC;MCI;GNC;iBOE;GPE;wBQE;qBHC,qCG;GRC;yBSE;mBNE,8CM;GTO;yBUE;mBPE,gDO;GVO;CFuB"},"hasCjsExports":false},"type":"js/module"}]}