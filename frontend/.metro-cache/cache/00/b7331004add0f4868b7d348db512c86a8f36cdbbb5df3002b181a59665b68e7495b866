{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useUser\", {\n    enumerable: true,\n    get: function () {\n      return useUser;\n    }\n  });\n  Object.defineProperty(exports, \"UserProvider\", {\n    enumerable: true,\n    get: function () {\n      return UserProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const defaultUserData = {\n    studentName: '',\n    phoneNumber: '',\n    email: '',\n    universityName: '',\n    universityId: '',\n    joinDate: new Date().toISOString().split('T')[0],\n    isLoggedIn: false\n  };\n  const defaultAppSettings = {\n    isDarkMode: true,\n    // تغيير النمط الافتراضي إلى المظلم\n    currentLanguage: 'ar'\n  };\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const useUser = () => {\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  };\n  const UserProvider = ({\n    children\n  }) => {\n    const [userData, setUserDataState] = (0, _react.useState)(defaultUserData);\n    const [appSettings, setAppSettings] = (0, _react.useState)(defaultAppSettings);\n    const [isLoaded, setIsLoaded] = (0, _react.useState)(false);\n\n    // Load saved settings on app start\n    (0, _react.useEffect)(() => {\n      const loadSettings = async () => {\n        try {\n          const savedLanguage = await AsyncStorage.default.getItem('app_language');\n          const savedDarkMode = await AsyncStorage.default.getItem('app_dark_mode');\n          if (savedLanguage || savedDarkMode) {\n            setAppSettings(prev => ({\n              ...prev,\n              currentLanguage: savedLanguage || prev.currentLanguage,\n              isDarkMode: savedDarkMode === 'true' || prev.isDarkMode\n            }));\n            console.log('Loaded settings:', {\n              language: savedLanguage,\n              darkMode: savedDarkMode\n            });\n          }\n        } catch (error) {\n          console.error('Error loading settings:', error);\n        } finally {\n          setIsLoaded(true);\n        }\n      };\n      loadSettings();\n    }, []);\n    const setUserData = data => {\n      setUserDataState(prev => ({\n        ...prev,\n        ...data\n      }));\n    };\n    const login = loginData => {\n      setUserDataState(prev => ({\n        ...prev,\n        ...loginData,\n        isLoggedIn: true\n      }));\n    };\n    const logout = () => {\n      setUserDataState(defaultUserData);\n    };\n    const updateProfile = profileData => {\n      setUserDataState(prev => ({\n        ...prev,\n        ...profileData\n      }));\n    };\n    const toggleDarkMode = async () => {\n      const newDarkMode = !appSettings.isDarkMode;\n      setAppSettings(prev => ({\n        ...prev,\n        isDarkMode: newDarkMode\n      }));\n      try {\n        await AsyncStorage.default.setItem('app_dark_mode', newDarkMode.toString());\n        console.log('Dark mode saved:', newDarkMode);\n      } catch (error) {\n        console.error('Error saving dark mode:', error);\n      }\n    };\n    const changeLanguage = async language => {\n      console.log('UserContext: Changing language to:', language);\n      setAppSettings(prev => ({\n        ...prev,\n        currentLanguage: language\n      }));\n      try {\n        await AsyncStorage.default.setItem('app_language', language);\n        console.log('Language saved:', language);\n      } catch (error) {\n        console.error('Error saving language:', error);\n      }\n    };\n    const value = {\n      userData,\n      appSettings,\n      setUserData,\n      login,\n      logout,\n      updateProfile,\n      toggleDarkMode,\n      changeLanguage\n    };\n\n    // Don't render children until settings are loaded\n    if (!isLoaded) {\n      return null;\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":155,"map":[[13,2,47,0,"Object"],[13,8,47,0],[13,9,47,0,"defineProperty"],[13,23,47,0],[13,24,47,0,"exports"],[13,31,47,0],[14,4,47,0,"enumerable"],[14,14,47,0],[15,4,47,0,"get"],[15,7,47,0],[15,18,47,0,"get"],[15,19,47,0],[16,6,47,0],[16,13,47,0,"useUser"],[16,20,47,0],[17,4,47,0],[18,2,47,0],[19,2,59,0,"Object"],[19,8,59,0],[19,9,59,0,"defineProperty"],[19,23,59,0],[19,24,59,0,"exports"],[19,31,59,0],[20,4,59,0,"enumerable"],[20,14,59,0],[21,4,59,0,"get"],[21,7,59,0],[21,18,59,0,"get"],[21,19,59,0],[22,6,59,0],[22,13,59,0,"UserProvider"],[22,25,59,0],[23,4,59,0],[24,2,59,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,2,69,"_reactJsxDevRuntime"],[28,25,2,69],[28,28,2,69,"require"],[28,35,2,69],[28,36,2,69,"_dependencyMap"],[28,50,2,69],[29,2,30,0],[29,8,30,6,"defaultUserData"],[29,23,30,31],[29,26,30,34],[30,4,31,2,"studentName"],[30,15,31,13],[30,17,31,15],[30,19,31,17],[31,4,32,2,"phoneNumber"],[31,15,32,13],[31,17,32,15],[31,19,32,17],[32,4,33,2,"email"],[32,9,33,7],[32,11,33,9],[32,13,33,11],[33,4,34,2,"universityName"],[33,18,34,16],[33,20,34,18],[33,22,34,20],[34,4,35,2,"universityId"],[34,16,35,14],[34,18,35,16],[34,20,35,18],[35,4,36,2,"joinDate"],[35,12,36,10],[35,14,36,12],[35,18,36,16,"Date"],[35,22,36,20],[35,23,36,21],[35,24,36,22],[35,25,36,23,"toISOString"],[35,36,36,34],[35,37,36,35],[35,38,36,36],[35,39,36,37,"split"],[35,44,36,42],[35,45,36,43],[35,48,36,46],[35,49,36,47],[35,50,36,48],[35,51,36,49],[35,52,36,50],[36,4,37,2,"isLoggedIn"],[36,14,37,12],[36,16,37,14],[37,2,38,0],[37,3,38,1],[38,2,40,0],[38,8,40,6,"defaultAppSettings"],[38,26,40,37],[38,29,40,40],[39,4,41,2,"isDarkMode"],[39,14,41,12],[39,16,41,14],[39,20,41,18],[40,4,41,20],[41,4,42,2,"currentLanguage"],[41,19,42,17],[41,21,42,19],[42,2,43,0],[42,3,43,1],[43,2,45,0],[43,8,45,6,"UserContext"],[43,19,45,17],[43,35,45,20],[43,39,45,20,"createContext"],[43,45,45,33],[43,46,45,33,"createContext"],[43,59,45,33],[43,61,45,63,"undefined"],[43,70,45,72],[43,71,45,73],[44,2,47,7],[44,8,47,13,"useUser"],[44,15,47,20],[44,18,47,23,"useUser"],[44,19,47,23],[44,24,47,29],[45,4,48,2],[45,10,48,8,"context"],[45,17,48,15],[45,20,48,18],[45,24,48,18,"useContext"],[45,30,48,28],[45,31,48,28,"useContext"],[45,41,48,28],[45,43,48,29,"UserContext"],[45,54,48,40],[45,55,48,41],[46,4,49,2],[46,8,49,6,"context"],[46,15,49,13],[46,20,49,18,"undefined"],[46,29,49,27],[46,31,49,29],[47,6,50,4],[47,12,50,10],[47,16,50,14,"Error"],[47,21,50,19],[47,22,50,20],[47,66,50,64],[47,67,50,65],[48,4,51,2],[49,4,52,2],[49,11,52,9,"context"],[49,18,52,16],[50,2,53,0],[50,3,53,1],[51,2,59,7],[51,8,59,13,"UserProvider"],[51,20,59,54],[51,23,59,57,"UserProvider"],[51,24,59,58],[52,4,59,60,"children"],[53,2,59,69],[53,3,59,70],[53,8,59,75],[54,4,60,2],[54,10,60,8],[54,11,60,9,"userData"],[54,19,60,17],[54,21,60,19,"setUserDataState"],[54,37,60,35],[54,38,60,36],[54,41,60,39],[54,45,60,39,"useState"],[54,51,60,47],[54,52,60,47,"useState"],[54,60,60,47],[54,62,60,58,"defaultUserData"],[54,77,60,73],[54,78,60,74],[55,4,61,2],[55,10,61,8],[55,11,61,9,"appSettings"],[55,22,61,20],[55,24,61,22,"setAppSettings"],[55,38,61,36],[55,39,61,37],[55,42,61,40],[55,46,61,40,"useState"],[55,52,61,48],[55,53,61,48,"useState"],[55,61,61,48],[55,63,61,62,"defaultAppSettings"],[55,81,61,80],[55,82,61,81],[56,4,62,2],[56,10,62,8],[56,11,62,9,"isLoaded"],[56,19,62,17],[56,21,62,19,"setIsLoaded"],[56,32,62,30],[56,33,62,31],[56,36,62,34],[56,40,62,34,"useState"],[56,46,62,42],[56,47,62,42,"useState"],[56,55,62,42],[56,57,62,43],[56,62,62,48],[56,63,62,49],[58,4,64,2],[59,4,65,2],[59,8,65,2,"useEffect"],[59,14,65,11],[59,15,65,11,"useEffect"],[59,24,65,11],[59,26,65,12],[59,32,65,18],[60,6,66,4],[60,12,66,10,"loadSettings"],[60,24,66,22],[60,27,66,25],[60,33,66,25,"loadSettings"],[60,34,66,25],[60,39,66,37],[61,8,67,6],[61,12,67,10],[62,10,68,8],[62,16,68,14,"savedLanguage"],[62,29,68,27],[62,32,68,30],[62,38,68,36,"AsyncStorage"],[62,50,68,48],[62,51,68,48,"default"],[62,58,68,48],[62,59,68,49,"getItem"],[62,66,68,56],[62,67,68,57],[62,81,68,71],[62,82,68,72],[63,10,69,8],[63,16,69,14,"savedDarkMode"],[63,29,69,27],[63,32,69,30],[63,38,69,36,"AsyncStorage"],[63,50,69,48],[63,51,69,48,"default"],[63,58,69,48],[63,59,69,49,"getItem"],[63,66,69,56],[63,67,69,57],[63,82,69,72],[63,83,69,73],[64,10,71,8],[64,14,71,12,"savedLanguage"],[64,27,71,25],[64,31,71,29,"savedDarkMode"],[64,44,71,42],[64,46,71,44],[65,12,72,10,"setAppSettings"],[65,26,72,24],[65,27,72,25,"prev"],[65,31,72,29],[65,36,72,34],[66,14,73,12],[66,17,73,15,"prev"],[66,21,73,19],[67,14,74,12,"currentLanguage"],[67,29,74,27],[67,31,74,30,"savedLanguage"],[67,44,74,43],[67,48,74,70,"prev"],[67,52,74,74],[67,53,74,75,"currentLanguage"],[67,68,74,90],[68,14,75,12,"isDarkMode"],[68,24,75,22],[68,26,75,24,"savedDarkMode"],[68,39,75,37],[68,44,75,42],[68,50,75,48],[68,54,75,52,"prev"],[68,58,75,56],[68,59,75,57,"isDarkMode"],[69,12,76,10],[69,13,76,11],[69,14,76,12],[69,15,76,13],[70,12,77,10,"console"],[70,19,77,17],[70,20,77,18,"log"],[70,23,77,21],[70,24,77,22],[70,42,77,40],[70,44,77,42],[71,14,77,44,"language"],[71,22,77,52],[71,24,77,54,"savedLanguage"],[71,37,77,67],[72,14,77,69,"darkMode"],[72,22,77,77],[72,24,77,79,"savedDarkMode"],[73,12,77,93],[73,13,77,94],[73,14,77,95],[74,10,78,8],[75,8,79,6],[75,9,79,7],[75,10,79,8],[75,17,79,15,"error"],[75,22,79,20],[75,24,79,22],[76,10,80,8,"console"],[76,17,80,15],[76,18,80,16,"error"],[76,23,80,21],[76,24,80,22],[76,49,80,47],[76,51,80,49,"error"],[76,56,80,54],[76,57,80,55],[77,8,81,6],[77,9,81,7],[77,18,81,16],[78,10,82,8,"setIsLoaded"],[78,21,82,19],[78,22,82,20],[78,26,82,24],[78,27,82,25],[79,8,83,6],[80,6,84,4],[80,7,84,5],[81,6,86,4,"loadSettings"],[81,18,86,16],[81,19,86,17],[81,20,86,18],[82,4,87,2],[82,5,87,3],[82,7,87,5],[82,9,87,7],[82,10,87,8],[83,4,89,2],[83,10,89,8,"setUserData"],[83,21,89,19],[83,24,89,23,"data"],[83,28,89,46],[83,32,89,51],[84,6,90,4,"setUserDataState"],[84,22,90,20],[84,23,90,21,"prev"],[84,27,90,25],[84,32,90,30],[85,8,90,32],[85,11,90,35,"prev"],[85,15,90,39],[86,8,90,41],[86,11,90,44,"data"],[87,6,90,49],[87,7,90,50],[87,8,90,51],[87,9,90,52],[88,4,91,2],[88,5,91,3],[89,4,93,2],[89,10,93,8,"login"],[89,15,93,13],[89,18,93,17,"loginData"],[89,27,93,45],[89,31,93,50],[90,6,94,4,"setUserDataState"],[90,22,94,20],[90,23,94,21,"prev"],[90,27,94,25],[90,32,94,30],[91,8,95,6],[91,11,95,9,"prev"],[91,15,95,13],[92,8,96,6],[92,11,96,9,"loginData"],[92,20,96,18],[93,8,97,6,"isLoggedIn"],[93,18,97,16],[93,20,97,18],[94,6,98,4],[94,7,98,5],[94,8,98,6],[94,9,98,7],[95,4,99,2],[95,5,99,3],[96,4,101,2],[96,10,101,8,"logout"],[96,16,101,14],[96,19,101,17,"logout"],[96,20,101,17],[96,25,101,23],[97,6,102,4,"setUserDataState"],[97,22,102,20],[97,23,102,21,"defaultUserData"],[97,38,102,36],[97,39,102,37],[98,4,103,2],[98,5,103,3],[99,4,105,2],[99,10,105,8,"updateProfile"],[99,23,105,21],[99,26,105,25,"profileData"],[99,37,105,55],[99,41,105,60],[100,6,106,4,"setUserDataState"],[100,22,106,20],[100,23,106,21,"prev"],[100,27,106,25],[100,32,106,30],[101,8,106,32],[101,11,106,35,"prev"],[101,15,106,39],[102,8,106,41],[102,11,106,44,"profileData"],[103,6,106,56],[103,7,106,57],[103,8,106,58],[103,9,106,59],[104,4,107,2],[104,5,107,3],[105,4,109,2],[105,10,109,8,"toggleDarkMode"],[105,24,109,22],[105,27,109,25],[105,33,109,25,"toggleDarkMode"],[105,34,109,25],[105,39,109,37],[106,6,110,4],[106,12,110,10,"newDarkMode"],[106,23,110,21],[106,26,110,24],[106,27,110,25,"appSettings"],[106,38,110,36],[106,39,110,37,"isDarkMode"],[106,49,110,47],[107,6,111,4,"setAppSettings"],[107,20,111,18],[107,21,111,19,"prev"],[107,25,111,23],[107,30,111,28],[108,8,111,30],[108,11,111,33,"prev"],[108,15,111,37],[109,8,111,39,"isDarkMode"],[109,18,111,49],[109,20,111,51,"newDarkMode"],[110,6,111,63],[110,7,111,64],[110,8,111,65],[110,9,111,66],[111,6,112,4],[111,10,112,8],[112,8,113,6],[112,14,113,12,"AsyncStorage"],[112,26,113,24],[112,27,113,24,"default"],[112,34,113,24],[112,35,113,25,"setItem"],[112,42,113,32],[112,43,113,33],[112,58,113,48],[112,60,113,50,"newDarkMode"],[112,71,113,61],[112,72,113,62,"toString"],[112,80,113,70],[112,81,113,71],[112,82,113,72],[112,83,113,73],[113,8,114,6,"console"],[113,15,114,13],[113,16,114,14,"log"],[113,19,114,17],[113,20,114,18],[113,38,114,36],[113,40,114,38,"newDarkMode"],[113,51,114,49],[113,52,114,50],[114,6,115,4],[114,7,115,5],[114,8,115,6],[114,15,115,13,"error"],[114,20,115,18],[114,22,115,20],[115,8,116,6,"console"],[115,15,116,13],[115,16,116,14,"error"],[115,21,116,19],[115,22,116,20],[115,47,116,45],[115,49,116,47,"error"],[115,54,116,52],[115,55,116,53],[116,6,117,4],[117,4,118,2],[117,5,118,3],[118,4,120,2],[118,10,120,8,"changeLanguage"],[118,24,120,22],[118,27,120,25],[118,33,120,32,"language"],[118,41,120,60],[118,45,120,65],[119,6,121,4,"console"],[119,13,121,11],[119,14,121,12,"log"],[119,17,121,15],[119,18,121,16],[119,54,121,52],[119,56,121,54,"language"],[119,64,121,62],[119,65,121,63],[120,6,122,4,"setAppSettings"],[120,20,122,18],[120,21,122,19,"prev"],[120,25,122,23],[120,30,122,28],[121,8,122,30],[121,11,122,33,"prev"],[121,15,122,37],[122,8,122,39,"currentLanguage"],[122,23,122,54],[122,25,122,56,"language"],[123,6,122,65],[123,7,122,66],[123,8,122,67],[123,9,122,68],[124,6,123,4],[124,10,123,8],[125,8,124,6],[125,14,124,12,"AsyncStorage"],[125,26,124,24],[125,27,124,24,"default"],[125,34,124,24],[125,35,124,25,"setItem"],[125,42,124,32],[125,43,124,33],[125,57,124,47],[125,59,124,49,"language"],[125,67,124,57],[125,68,124,58],[126,8,125,6,"console"],[126,15,125,13],[126,16,125,14,"log"],[126,19,125,17],[126,20,125,18],[126,37,125,35],[126,39,125,37,"language"],[126,47,125,45],[126,48,125,46],[127,6,126,4],[127,7,126,5],[127,8,126,6],[127,15,126,13,"error"],[127,20,126,18],[127,22,126,20],[128,8,127,6,"console"],[128,15,127,13],[128,16,127,14,"error"],[128,21,127,19],[128,22,127,20],[128,46,127,44],[128,48,127,46,"error"],[128,53,127,51],[128,54,127,52],[129,6,128,4],[130,4,129,2],[130,5,129,3],[131,4,131,2],[131,10,131,8,"value"],[131,15,131,30],[131,18,131,33],[132,6,132,4,"userData"],[132,14,132,12],[133,6,133,4,"appSettings"],[133,17,133,15],[134,6,134,4,"setUserData"],[134,17,134,15],[135,6,135,4,"login"],[135,11,135,9],[136,6,136,4,"logout"],[136,12,136,10],[137,6,137,4,"updateProfile"],[137,19,137,17],[138,6,138,4,"toggleDarkMode"],[138,20,138,18],[139,6,139,4,"changeLanguage"],[140,4,140,2],[140,5,140,3],[142,4,142,2],[143,4,143,2],[143,8,143,6],[143,9,143,7,"isLoaded"],[143,17,143,15],[143,19,143,17],[144,6,144,4],[144,13,144,11],[144,17,144,15],[145,4,145,2],[146,4,147,2],[146,24,148,4],[146,28,148,4,"_reactJsxDevRuntime"],[146,47,148,4],[146,48,148,4,"jsxDEV"],[146,54,148,4],[146,56,148,5,"UserContext"],[146,67,148,16],[146,68,148,17,"Provider"],[146,76,148,25],[147,6,148,26,"value"],[147,11,148,31],[147,13,148,33,"value"],[147,18,148,39],[148,6,148,39,"children"],[148,14,148,39],[148,16,149,7,"children"],[149,4,149,15],[150,6,149,15,"fileName"],[150,14,149,15],[150,16,149,15,"_jsxFileName"],[150,28,149,15],[151,6,149,15,"lineNumber"],[151,16,149,15],[152,6,149,15,"columnNumber"],[152,18,149,15],[153,4,149,15],[153,11,150,26],[153,12,150,27],[154,2,152,0],[154,3,152,1],[155,0,152,2],[155,3]],"functionMap":{"names":["<global>","useUser","UserProvider","useEffect$argument_0","loadSettings","setAppSettings$argument_0","setUserData","setUserDataState$argument_0","login","logout","updateProfile","toggleDarkMode","changeLanguage"],"mappings":"AAA;uBC8C;CDM;yDEM;YCM;yBCC;yBCM;YDI;KDQ;GDG;sBIE;qBCC,8BD;GJC;gBME;qBDC;MCI;GNC;iBOE;GPE;wBQE;qBHC,qCG;GRC;yBSE;mBNE,8CM;GTO;yBUE;mBPE,gDO;GVO;CFuB"},"hasCjsExports":false},"type":"js/module"}]}